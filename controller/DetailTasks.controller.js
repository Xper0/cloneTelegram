sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","../model/formatter","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/core/Fragment"],function(e,t,i,o,l,s){"use strict";return e.extend("cloneTelegramApp.cloneTelegram.controller.DetailTasks",{formatter:i,onInit:function(){let e=new t({});this.getView().setModel(e,"categoryTasksModel");let i=this.getOwnerComponent().getRouter();i.getRoute("DetailTasks").attachMatched(this._onObjectMatched,this)},_onObjectMatched:async function(e){let t=this.byId("DetailTaskTAble");let i=t.getBinding("items");let o=e.getParameter("arguments").detailCategory;let l=this.getOwnerComponent().getModel("ListTasks").getData().tasksGroups;let s=l.findIndex(e=>e.key==o);let n=`/tasksGroups/${s}`;this.getView().bindElement({path:n,model:"ListTasks"});let a=[];let r=sap.ui.model.FilterOperator.EQ;let g="Александр Павлов";let d=(e,t,i)=>{let o=new sap.ui.model.Filter(`${e}`,t,i);a.push(o)};switch(o){case"All":break;case"toMe":d("supervisor",r,g);break;case"onMe":d("responsible",r,g);break;case"CloseTask":let e="Закрыт";d("status",r,e)}i.filter(a)},onListItemPress:function(e){let t=e.getSource().getBindingContext("ListTasks").getObject();console.log(t);let i=this.getOwnerComponent().getRouter();i.navTo("AboutTask",{AboutTaskId:t.id})},handleFilterButtonPressed:function(){if(!this._pCategoryFilterDialog){this._pCategoryFilterDialog=s.load({id:this.getView().getId(),name:"cloneTelegramApp.cloneTelegram.view.TaskFilter",controller:this}).then(function(e){this.getView().addDependent(e);return e}.bind(this))}this._pCategoryFilterDialog.then(function(e){e.open()})},handleConfirm:function(e){this._applyFilter(e)},_applyFilter:function(e){let t=this.byId("DetailTaskTAble"),i=t.getBinding("items"),s=e.getParameter("filterItems"),n=this.byId("categoryFilterDialog").getFilterItems()[1],a,r={},g=[],d=[],c=[],u=[];console.log(i);s.forEach(e=>{let t=e.getProperty("key");console.log(t);a=new o("idSupervisor",l.EQ,t);d.push(a)});a=new o({filters:d,and:true});i.filter(a)}})});