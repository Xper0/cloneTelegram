<core:FragmentDefinition
  xmlns="sap.m"
  xmlns:core="sap.ui.core"
  xmlns:l="sap.ui.layout"
  xmlns:f="sap.ui.layout.form"
  xmlns:u="sap.ui.unified"
>
  <FlexBox justifyContent="Center" height="100%" class="addTask" >
 <VBox >
<!--    <content>-->
    <f:Form id="editFormTask"
            editable="true"
            ariaLabelledBy="Title1">
      <f:layout>
        <f:ResponsiveGridLayout
          labelSpanXL="4"
          labelSpanL="3"
          labelSpanM="4"
          labelSpanS="12"
          adjustLabelSpan="false"
          emptySpanXL="0"
          emptySpanL="4"
          emptySpanM="0"
          emptySpanS="0"
          columnsXL="2"
          columnsL="1"
          columnsM="1"
          singleContainerFullSize="false" />
      </f:layout>
      <f:formContainers >
        <f:FormContainer id="form" ariaLabelledBy="Title2">
          <f:formElements>
            <f:FormElement label="Название задачи"  >
              <f:fields>
                <Input
                  value="{
                    path: 'titleTask',
                  	type : 'sap.ui.model.type.String',
                  		constraints : {
					minLength: 1,
					maxLength: 10
				}
                  }"
                  id="titleTask"
                  valueStateText="Name must not be empty. Maximum 10 characters."
                  placeholder="Введите задачу"
                  change= ".onNameChange"
                />
              </f:fields>
            </f:FormElement>
            <f:FormElement label="Описание задачи">
              <f:fields>
                <TextArea id="descTask"
                          value="{/InputValue}"
                          valueLiveUpdate="{/ValueLiveUpdate}"
                          liveChange="handleLiveChange"
                          placeholder="Введите описание задачи"
                />
              </f:fields>
            </f:FormElement>
            <f:FormElement>
              <f:fields>
                <u:FileUploader
                  id="fileUploader"
                  name="myFileUpload"
                  uploadUrl="upload/"
                  tooltip="Upload your file to the local server"
                  uploadComplete="handleUploadComplete"
                  change="handleValueChange"
                  typeMissmatch="handleTypeMissmatch"
                  style="Emphasized"
                  fileType="txt,jpg"
                  placeholder="Choose a file for Upload...">
                  <u:parameters>
                    <u:FileUploaderParameter
                      name="Accept-CH"
                      value="Viewport-Width"/>
                    <u:FileUploaderParameter
                      name="Accept-CH"
                      value="Width"/>
                    <u:FileUploaderParameter
                      name="Accept-CH-Lifetime"
                      value="86400"/>
                  </u:parameters>
                </u:FileUploader>
                <Button
                  text="Upload File"
                  press="handleUploadPress"/>
              </f:fields>
            </f:FormElement>
            <f:FormElement label="Крайний срок">
              <f:fields>
                <DatePicker
                  id="DP2"
                  value="2014-03-26" valueFormat="yyyy-MM-dd" displayFormat="long"
                  change="handleChange"
                  class="sapUiSmallMarginBottom"/>
              </f:fields>
            </f:FormElement>
            <f:FormElement label="Важность">
              <f:fields>
                <ComboBox
                  id="idComboBoxImportance"
                  change="handleChange"
                  showClearIcon="true"
                >
                  <core:Item text="Низкий" key="Низкий" />
                  <core:Item text="Средний" key="Средний" />
                  <core:Item text="Критичный" key="Критичный" />
                </ComboBox>
              </f:fields>
            </f:FormElement>
            <f:FormElement label="Постановщик">
              <f:fields>
                <ComboBox
                  id="idComboBoxUser"
                  items="{
				            path: 'ListTasks>/users',
			              sorter: { path: 'text' }
			              }"
                  change="handleChange"
                  showClearIcon="true"

                >
                  <core:Item
                    text="{ListTasks>firstName} {ListTasks>lastName} ({ListTasks>position})"
                    key="{ListTasks>firstName}" />
                </ComboBox>
              </f:fields>
            </f:FormElement>
            <f:FormElement label="Ответсвенный">
              <f:fields>
                <ComboBox
                       id="idComboBox"
                          items="{
			              	      path: 'ListTasks>/users'
			                    }"
                       showClearIcon="true"
                       placeholder="Выберете ответсвенного"
                  change="handleChange">
                  <core:Item text="{ListTasks>firstName} {ListTasks>lastName} ({ListTasks>position})" key="{ListTasks>lastName}" />
                </ComboBox>
              </f:fields>
            </f:FormElement>
          </f:formElements>
        </f:FormContainer>
      </f:formContainers>
    </f:Form>
<!--    </content>-->
<!--    <footer>-->
      <HBox justifyContent="SpaceAround" >
        <Button text="Добавить задачу" press="onAddListTask" />
        <Button text="Отменить" />
      </HBox>
<!--    </footer>-->
 </VBox>
  </FlexBox>
</core:FragmentDefinition>